<!doctype html>
<html>
<head><meta charset="utf-8"/><title>Download Report</title>
<link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/admin_dashboard.css"></head>
<body>
  <header class="topbar"><button onclick="location.href='/admin/dashboard'" class="menu-btn">‚Üê Back</button><h1 class="top-title">Download Report</h1></header>
  <main class="main">
    <section class="card">
      <h2>Generate CSV report</h2>
      <div style="margin-top:12px;display:flex;gap:10px;align-items:center;">
        <label>From:</label><input id="from" type="date"/>
        <label>To:</label><input id="to" type="date"/>
        <button id="getReport" class="btn primary">Download</button>
      </div>
      <p style="color:#666;margin-top:12px;">Leave both empty to download current date report. Files will be downloaded directly.</p>
    </section>
  </main>

  <script>
    document.getElementById('getReport').addEventListener('click', ()=>{
      const from = document.getElementById('from').value;
      const to = document.getElementById('to').value;
      let url = '/admin/report';
      if (from && to) url += `?from=${encodeURIComponent(from)}&to=${encodeURIComponent(to)}`;
      else if (from) url += `?date=${encodeURIComponent(from)}`;
      window.location.href = url;
    });
  </script>
</body>
</html>
